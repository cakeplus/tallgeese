OASISFormat:  0.4
OCamlVersion: >= 4.02.3
Name:         tallgeese
Version:      0.1
Maintainers:  Edgar Aroutiounian
Homepage:     http://hyegar.com
Synopsis:     Enhanced SSH on OS X
Authors:      Edgar Aroutiounian <edgar.factorial@gmail.com>
License:      BSD-3-clause
Plugins:      META (0.4), DevFiles (0.4)
AlphaFeatures: ocamlbuild_more_args

# Have to do this because stupid CSources won't take files ending in
# an objective-C .m extension

PreBuildCommand: cp src/lib/ssh_gui.m src/lib/ssh_gui.c
PostBuildCommand: rm src/lib/ssh_gui.c

Description:
  Enhanced SSH experience on OS X using native Cocoa

  tallgeese is an OCaml/Objective-C application that
  makes the SSH experience more enjoyable on OS X.

Executable Tallgeese
  Build$: system(macosx)
  Path: src/app
  BuildTools:ocamlbuild
  install: true
  MainIs: main.ml
  CCOpt: -g -Weverything -Wall -ObjC -fobjc-arc
  CompiledObject: native
  BuildDepends: cmdliner, ssh, maxminddb, tallgeese_lib

Library tallgeese_lib
  Path: src/lib
  install:true
  BuildTools:ocamlbuild
  InternalModules: Tallgeese_lib
  CompiledObject: native
  CCOpt: -g -Wextra -Wall -ObjC -fobjc-arc
  ByteOpt:
    -ccopt -framework -ccopt Appkit -ccopt -framework -ccopt SceneKit
  NativeOpt: -ccopt -framework -ccopt Appkit
  CSources: ssh_gui.h, ssh_gui.c, tallgeese_stubs.c

# Executable run_test
#   Install:false
#   Path: tests
#   MainIs: r_test.ml
#   BuildDepends:
#   CompiledObject: best
#   BuildTools:ocamlbuild

# Test t
#   Command: $run_test
#   TestTools:run_test
